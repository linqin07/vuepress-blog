(window.webpackJsonp=window.webpackJsonp||[]).push([[96],{321:function(s,t,a){"use strict";a.r(t);var e=a(2),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"sed用法实例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sed用法实例","aria-hidden":"true"}},[s._v("#")]),s._v(" sed用法实例")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://man.linuxde.net/sed",target:"_blank",rel:"noopener noreferrer"}},[s._v("详细用法"),a("OutboundLink")],1)]),s._v(" "),a("h4",{attrs:{id:"替换操作：s命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#替换操作：s命令","aria-hidden":"true"}},[s._v("#")]),s._v(" 替换操作：s命令")]),s._v(" "),a("p",[s._v("替换文本中的字符串：")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/book/books/'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v("\n")])])]),a("p",[s._v("**-n 选项 **和 **p 命令 **一起使用表示只打印那些发生替换的行：")]),s._v(" "),a("p",[a("code",[s._v("sed -n 's/test/TEST/p' file")])]),s._v(" "),a("p",[s._v("直接编辑文件"),a("strong",[s._v("选项-i")]),s._v("，会匹配file文件中每一行的第一个book替换为books：")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/book/books/g'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v("\n")])])]),a("h4",{attrs:{id:"全面替换标记g"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#全面替换标记g","aria-hidden":"true"}},[s._v("#")]),s._v(" 全面替换标记g")]),s._v(" "),a("p",[s._v("使用后缀 "),a("code",[s._v("/g")]),s._v(" 标记会替换每一行中的所有匹配：")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("sed 's/book/books/g' file\n")])])]),a("p",[s._v("当需要从第N处匹配开始替换时，可以使用 "),a("code",[s._v("/Ng")]),s._v("：")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" sksksksksksk "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/sk/SK/2g'")]),s._v("\nskSKSKSKSKSK\n")])])]),a("h4",{attrs:{id:"删除操作：d命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除操作：d命令","aria-hidden":"true"}},[s._v("#")]),s._v(" 删除操作：d命令")]),s._v(" "),a("p",[s._v("删除文件的第2行到末尾所有行，直接编辑文件"),a("code",[s._v("-i")]),s._v("：")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2,"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$d")]),s._v("'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v("\n")])])]),a("h4",{attrs:{id:"选定行的范围：-（逗号）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#选定行的范围：-（逗号）","aria-hidden":"true"}},[s._v("#")]),s._v(" 选定行的范围：,（逗号）")]),s._v(" "),a("p",[s._v("所有在模板test和check所确定的范围内的行都被打印：")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -n "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/test/,/check/p'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v("\n")])])]),a("p",[s._v("打印从第5行开始到第一个包含以test开始的行之间的所有行：")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -n "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'5,/^test/p'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打印 5 到 10 行")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -n "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'5,10p'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 截断日志")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/2019-09-02 18:39:43,297/,/2019-09-02 18:39:43,297/p'")]),s._v(" zookeeper.out "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" gg \n")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);