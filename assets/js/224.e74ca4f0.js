(window.webpackJsonp=window.webpackJsonp||[]).push([[224],{620:function(s,a,t){"use strict";t.r(a);var e=t(20),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"rpm-安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rpm-安装"}},[s._v("#")]),s._v(" RPM 安装")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("查看是否已经安装 Mysql，如果有结果返回，则执行 "),a("code",[s._v("rpm -e xxx")]),s._v("删除掉(xxx 是文件全名)")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("div",{staticClass:"highlight-lines"},[a("div",{staticClass:"highlighted"},[s._v(" ")]),a("br")]),a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-qa")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" mysql\n")])])])]),s._v(" "),a("li",[a("p",[s._v("下载官方 Mysql 包，没有安装 wget 的可以先安装一下 "),a("code",[s._v("yum -y install wget")]),s._v("，-c 参数断点续传")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" http://dev.mysql.com/get/mysql57-community-release-el7-10.noarch.rpm\n")])])])]),s._v(" "),a("li",[a("p",[s._v("安装 Mysql 包")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("yum "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mysql57-community-release-el7-10.noarch.rpm\n")])])])])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://blog-07.oss-cn-guangzhou.aliyuncs.com/picBak/image-20210610214141823.png",alt:"image-20210610214141823.png"}})]),s._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[a("p",[s._v("安装 Mysql（这一步需要几分钟，静等安装）")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("yum "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mysql-community-server\n")])])])]),s._v(" "),a("li",[a("p",[s._v("启动 Mysql 服务，没有权限，执行下面语句赋予权限 "),a("code",[s._v("chown mysql:mysql -R /var/lib/mysql")])]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("systemctl start  mysqld.service\n")])])]),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" mysqld status\n")])])])]),s._v(" "),a("li",[a("p",[s._v("查看初始密码")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'password'")]),s._v(" /var/log/mysqld.log\n")])])])])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://blog-07.oss-cn-guangzhou.aliyuncs.com/picBak/1581351778874.png",alt:"1581351778874.png"}})]),s._v(" "),a("ol",{attrs:{start:"7"}},[a("li",[a("p",[s._v("修改密码")]),s._v(" "),a("p",[s._v("如果忘记原始密码可以设置 /etc/my.cnf 文件，增加配置"),a("code",[s._v("skip-grant-tables")]),s._v("，再重启无需密码登陆，后面改好再把配置改回来即可。")]),s._v(" "),a("p",[s._v("查看 mysql 初始的密码策略")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SHOW")]),s._v(" VARIABLES "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("LIKE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'validate_password%'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n")])])])])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://blog-07.oss-cn-guangzhou.aliyuncs.com/picBak/1581413220671.png",alt:"1581413220671.png"}})]),s._v(" "),a("p",[s._v("修改安全级别，密码长度")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[s._v(" ```sql\n set global validate_password_policy=LOW;\n")])])]),a("p",[s._v("set global validate_password_length=6;")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[s._v(" ```\n\n ```\n\n 修改密码，为了提高安全性 mysql5.7 中 user 表的 password 字段已被取消，取而代之的事 authentication_string 字段\n \n ```sql\n ALTER USER USER() IDENTIFIED BY '123456';\n // 或则\n ALTER USER 'root'@'localhost' IDENTIFIED by '123456';\n // 或则\n set password for 'root'@'localhost'=password('123456');\n // 或则\n")])])]),a("p",[s._v("update  mysql.user set authentication_string = password('123456') where User='root' and Host = '%';\n```")]),s._v(" "),a("p",[s._v("​")]),s._v(" "),a("p",[s._v("​")]),s._v(" "),a("ol",{attrs:{start:"8"}},[a("li",[a("p",[s._v("允许远程登录")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("use")]),s._v(" mysql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("desc")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" host"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])])])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://blog-07.oss-cn-guangzhou.aliyuncs.com/picBak/1581493230599.png",alt:"1581493230599.png"}})]),s._v(" "),a("p",[s._v("​")]),s._v(" "),a("p",[s._v("​")]),s._v(" "),a("p",[s._v("​       修改 root 的登录权限，允许远程登录。此外，对应的防火墙端口一样要放开 3306 端口。")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("update")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" host "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 刷新权限")]),s._v("\n    flush "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("privileges")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("h2",{attrs:{id:"win安装mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#win安装mysql"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"https://blog.csdn.net/qq_41848006/article/details/88295973",target:"_blank",rel:"noopener noreferrer"}},[s._v("win安装mysql"),a("OutboundLink")],1),a("Badge",{attrs:{text:"转载"}})],1),s._v(" "),a("ul",[a("li",[a("p",[s._v("1.下载 myql zip 包\nhttps://dev.mysql.com/downloads/mysql/")]),s._v(" "),a("p",[s._v("https://downloads.mysql.com/archives/community/")])]),s._v(" "),a("li",[a("p",[s._v("2.解压出来，在解压目录下面新建 my.ini 文件")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mysqld"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n# 设置"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v("端口\nport="),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v("\n# 设置mysql的安装目录\nbasedir=E"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\\\\mysql"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("-5.7")]),s._v("."),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v("-winx64\n# 设置mysql数据库的数据的存放目录\ndatadir=E"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\\\\mysql"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("-5.7")]),s._v("."),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v("-winx64\\\\data\n# 允许最大连接数\nmax_connections="),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),s._v("\n# 允许连接失败的次数。这是为了防止有人从该主机试图攻击数据库系统\nmax_connect_errors="),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n# 服务端使用的字符集默认为UTF8\ncharacter-set-server=utf8\n# 创建新表时将使用的默认存储引擎\ndefault-storage-engine=INNODB\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mysql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n# 设置mysql客户端默认字符集\ndefault-character-set=utf8\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("client"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n# 设置mysql客户端连接服务端时默认使用的端口\nport="),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v("\ndefault-character-set=utf8\n")])])])]),s._v(" "),a("li",[a("p",[s._v("3.配置系统环境变量，把解压目录下面 bin 添加到 PATH 中")])]),s._v(" "),a("li",[a("p",[s._v("4.以"),a("code",[s._v("管理员")]),s._v("的身份打开cmd窗口")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("初始化命令 mysqld --initialize --user=mysql --console (记住一定要进行初始化，很多人不进行初始化，就出现了1067错误，怎么弄都搞不了，初始化完成之后，会生成一个临时密码这里需要注意把临时密码记住）")])]),s._v(" "),a("li",[a("p",[s._v("接着就是输入mysqld -install 进行服务的添加")])]),s._v(" "),a("li",[a("p",[s._v("输入net start mysql启动服务")])]),s._v(" "),a("li",[a("p",[s._v("输入mysql -u root -p进行登录数据库，这时提示需要密码，然后就是用你上面的密码登录")])]),s._v(" "),a("li",[a("p",[s._v("修改密码语句：ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY '123456';\n刷新：FLUSH PRIVILEGES;")])])])]),s._v(" "),a("li",[a("p",[s._v("备注：8.0之前版本，忘记密码修改方法")]),s._v(" "),a("ul",[a("li",[s._v("找到bin目录：mysqld --skip-grant-tables")]),s._v(" "),a("li",[s._v("重新在开一个cmd窗口， 找到bin目录：mysql就进入登陆状态了\n5.7.22修改密码语句：update user set authentication_string=password('123456') where user='root' and host='localhost';\n5.6.修改密码语句：update user set password=password('123456') where user='root' and host='localhost';  (我没有实验过，网上都是这么写的)")])])])])])}),[],!1,null,null,null);a.default=n.exports}}]);