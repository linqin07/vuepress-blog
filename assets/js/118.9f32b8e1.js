(window.webpackJsonp=window.webpackJsonp||[]).push([[118],{513:function(s,t,a){"use strict";a.r(t);var l=a(20),e=Object(l.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"ssh免密"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ssh免密"}},[s._v("#")]),s._v(" SSH免密")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("生成密钥对，"),t("code",[s._v("-t")]),s._v("表示使用加密算法为 rsa")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("ssh-keygen "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-t rsa"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),t("p",[s._v("生成文件"),t("code",[s._v("id_rsa")]),s._v("\n，"),t("code",[s._v("id_rsa.pub")])]),s._v(" "),t("p",[s._v("/home/用户名/.ssh/id_rsa          私钥   600  一定为600")]),s._v(" "),t("p",[s._v("/home/用户名/.ssh/id_rsa.pub    公钥  644")])]),s._v(" "),t("li",[t("p",[s._v("分发公钥到客户端，"),t("code",[s._v("-i")]),s._v("表示复制到指定文件名称，也可以使用"),t("code",[s._v("scp")]),s._v("复制到客户端再修改名字为"),t("code",[s._v("authorized_keys")])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("ssh-copy-id "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-i id_rsa.pub"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" root@192.168.152.128\n")])])]),t("p",[s._v("客户端路径对应关系如下：")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",{staticStyle:{"text-align":"center"}},[s._v("用户")]),s._v(" "),t("th",{staticStyle:{"text-align":"center"}},[s._v("客户端路径")])])]),s._v(" "),t("tbody",[t("tr",[t("td",{staticStyle:{"text-align":"center"}},[s._v("root")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("/root/.ssh/authorized_keys")])]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"center"}},[s._v("其他用户")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("/home/用户名/.ssh/authorized_keys")])])])])])]),s._v(" "),t("div",{staticClass:"htmledit_views",attrs:{id:"content_views"}},[t("p",[s._v("       ssh无密码登录，自然要用到Linux的基础命令ssh及scp，对于ssh和scp的使用见："),t("a",{attrs:{href:"http://blog.csdn.net/mmd0308/article/details/73770007"}},[s._v("《ssh，scp命令使用教程》")])]),s._v(" "),t("p",[t("strong",[s._v("本机自身实现无密码登录：")])]),s._v(" "),t("p"),s._v(" "),t("ul",[t("li",[s._v("生成公钥、私钥对")])]),t("div",[t("pre",[t("code",{staticClass:"language-java hljs"},[s._v("       ssh-keygen")]),t("div",{staticClass:"hljs-button {2}",attrs:{"data-title":"复制",onclick:"hljs.copyCode(event)"}})]),s._v(" "),t("ul",[t("li",[s._v("进入到生成密钥文件夹中，默认在用户的家目录下面，一个隐藏的.ssh文件夹中。")])])]),s._v(" "),t("p"),s._v(" "),t("p"),s._v(" "),t("pre",[t("code",{staticClass:"language-java hljs"},[s._v("       cd /home/hzq/.ssh/")]),t("div",{staticClass:"hljs-button {2}",attrs:{"data-title":"复制",onclick:"hljs.copyCode(event)"}})]),s._v(" "),t("p"),s._v(" "),t("ul",[t("li",[s._v("查看是否有“authorized_keys”文件，如果有，直接将公钥追加到“authorized_keys”文件中，如果没有，创建“authorized_keys”文件，并修改权限为“600”")])]),t("p"),s._v(" "),t("p"),s._v(" "),t("pre",[t("code",{staticClass:"language-java hljs"},[t("ol",{staticClass:"hljs-ln"},[t("li",[t("div",{staticClass:"hljs-ln-numbers"},[t("div",{staticClass:"hljs-ln-line hljs-ln-n",attrs:{"data-line-number":"1"}})]),t("div",{staticClass:"hljs-ln-code"},[t("div",{staticClass:"hljs-ln-line"},[s._v("       touch authorized_keys")])])]),t("li",[t("div",{staticClass:"hljs-ln-numbers"},[t("div",{staticClass:"hljs-ln-line hljs-ln-n",attrs:{"data-line-number":"2"}})]),t("div",{staticClass:"hljs-ln-code"},[t("div",{staticClass:"hljs-ln-line"},[s._v("       chmod "),t("span",{staticClass:"hljs-number"},[s._v("600")]),s._v(" authorized_keys ")])])])])]),t("div",{staticClass:"hljs-button {2}",attrs:{"data-title":"复制",onclick:"hljs.copyCode(event)"}})]),s._v(" "),t("p"),s._v(" "),t("ul",[t("li",[s._v("追加公钥到“authorized_keys”文件中")])]),t("pre",[t("code",{staticClass:"language-java hljs"},[s._v("       cat id_rsa.pub >> authorized_keys ")]),t("div",{staticClass:"hljs-button {2}",attrs:{"data-title":"复制",onclick:"hljs.copyCode(event)"}})]),s._v(" "),t("ul",[t("li",[s._v("配置结束")])]),t("p"),s._v(" "),t("p",[t("strong",[s._v("两台主机（A，B主机）间实现无密码登录：")])]),s._v(" "),t("p"),s._v(" "),t("ul",[t("li",[s._v("A，B主机分别生成公钥、私钥对")])]),t("div",[t("pre",[t("code",{staticClass:"language-java hljs"},[s._v("       ssh-keygen")]),t("div",{staticClass:"hljs-button {2}",attrs:{"data-title":"复制",onclick:"hljs.copyCode(event)"}})]),s._v(" "),t("ul",[t("li",[s._v("进入到生成密钥文件夹中，默认在用户的家目录下面，一个隐藏的.ssh文件夹中。")])])]),s._v(" "),t("p"),s._v(" "),t("pre",[t("code",{staticClass:"language-java hljs"},[s._v("       cd /home/hzq/.ssh/")]),t("div",{staticClass:"hljs-button {2}",attrs:{"data-title":"复制",onclick:"hljs.copyCode(event)"}})]),s._v(" "),t("div",[t("ul",[t("li",[s._v("使用scp命令，将A主机公钥发送给B主机，将B主机公钥发送给A主机。")])]),t("div",[t("pre",[t("code",{staticClass:"language-java hljs"},[s._v("       scp id_rsa.pub  hzq@"),t("span",{staticClass:"hljs-number"},[s._v("192.168")]),s._v(".1.161:/home/hzq")]),t("div",{staticClass:"hljs-button {2}",attrs:{"data-title":"复制",onclick:"hljs.copyCode(event)"}})])])]),s._v(" "),t("ul",[t("li",[s._v("分别查看A，B主机是否有“authorized_keys”文件，如果有，直接将需无密码登录的主机公钥追加到“authorized_keys”文件中，如果没有，创建“authorized_keys”文件，并修改权限为“600”")])]),t("p"),s._v(" "),t("pre",[t("code",{staticClass:"language-java hljs"},[t("ol",{staticClass:"hljs-ln"},[t("li",[t("div",{staticClass:"hljs-ln-numbers"},[t("div",{staticClass:"hljs-ln-line hljs-ln-n",attrs:{"data-line-number":"1"}})]),t("div",{staticClass:"hljs-ln-code"},[t("div",{staticClass:"hljs-ln-line"},[s._v("       touch authorized_keys")])])]),t("li",[t("div",{staticClass:"hljs-ln-numbers"},[t("div",{staticClass:"hljs-ln-line hljs-ln-n",attrs:{"data-line-number":"2"}})]),t("div",{staticClass:"hljs-ln-code"},[t("div",{staticClass:"hljs-ln-line"},[s._v("       chmod "),t("span",{staticClass:"hljs-number"},[s._v("600")]),s._v(" authorized_keys ")])])])])]),t("div",{staticClass:"hljs-button {2}",attrs:{"data-title":"复制",onclick:"hljs.copyCode(event)"}})]),s._v(" "),t("ul",[t("li",[s._v("追加公钥到“authorized_keys”文件中")])]),t("pre",[t("code",{staticClass:"language-java hljs"},[s._v("       cat id_rsa.pub >> authorized_keys ")]),t("div",{staticClass:"hljs-button {2}",attrs:{"data-title":"复制",onclick:"hljs.copyCode(event)"}})]),s._v(" "),t("ul",[t("li",[s._v("配置结束")])]),t("p",[s._v("       总结：自己鼓励一下自己，加油↖(^ω^)↗！！！")]),s._v(" "),t("p",[t("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);