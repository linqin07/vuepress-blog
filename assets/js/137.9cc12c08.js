(window.webpackJsonp=window.webpackJsonp||[]).push([[137],{532:function(t,e,s){"use strict";s.r(e);var a=s(20),r=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h3",{attrs:{id:"防火墙centos7"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#防火墙centos7"}},[t._v("#")]),t._v(" 防火墙centos7")]),t._v(" "),e("h6",{attrs:{id:"起停"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#起停"}},[t._v("#")]),t._v(" 起停")]),t._v(" "),e("p",[t._v("开启\nsystemctl start firewalld.service")]),t._v(" "),e("p",[t._v("关闭\nsystemctl stop firewalld.service")]),t._v(" "),e("p",[t._v("开机启动\nsystemctl enable firewalld.service")]),t._v(" "),e("p",[t._v("关闭开机启动\nsystemctl disable firewalld.service")]),t._v(" "),e("p",[t._v("查看状态\nsystemctl status firewalld 或者 firewall-cmd --state")]),t._v(" "),e("h6",{attrs:{id:"释放端口"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#释放端口"}},[t._v("#")]),t._v(" 释放端口")]),t._v(" "),e("p",[t._v("firewall-cmd --permanent --zone=public --add-port=8080-8088/tcp")]),t._v(" "),e("p",[t._v("重新加载配置\nfirewall-cmd --reload")]),t._v(" "),e("p",[t._v("直接修改文件的方式（用户个人的），系统的在 /usr/lib/firewalld/zone/public.xml 目录下")]),t._v(" "),e("p",[t._v("cat  /etc/firewalld/zones/public.xml")]),t._v(" "),e("p",[t._v("删除端口\nfirewall-cmd --permanent --zone=public --remove-port=3306/tcp")]),t._v(" "),e("p",[t._v("查看已开放端口\nfirewall-cmd --permanent --zone=public --list-ports")]),t._v(" "),e("p",[t._v("查看服务\nfirewall-cmd --permanent --zone=public --list-services")]),t._v(" "),e("p",[t._v("在 xshell 使用命令可以打开终端配置 firewall-config")]),t._v(" "),e("h3",{attrs:{id:"contos6"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#contos6"}},[t._v("#")]),t._v(" contos6")]),t._v(" "),e("h6",{attrs:{id:"查现有规则-line-number"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查现有规则-line-number"}},[t._v("#")]),t._v(" 查现有规则--line-number：")]),t._v(" "),e("p",[e("code",[t._v("iptables -L -n")]),t._v("  或者  "),e("code",[t._v("/etc/init.d/iptables status")]),t._v(" 或者"),e("code",[t._v("service iptables status")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://blog-07.oss-cn-guangzhou.aliyuncs.com/picBak/1552464080369.png",alt:"1552464080369.png"}})]),t._v(" "),e("h6",{attrs:{id:"删除防火墙"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#删除防火墙"}},[t._v("#")]),t._v(" 删除防火墙：")]),t._v(" "),e("p",[e("code",[t._v("iptables -D INPUT 2")]),t._v(" 删除对应的规则，不要乱删除")]),t._v(" "),e("p",[e("code",[t._v("iptables -F")]),t._v(" 清空所有规则")]),t._v(" "),e("h6",{attrs:{id:"添加规则-保存-重启规则"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#添加规则-保存-重启规则"}},[t._v("#")]),t._v(" 添加规则，保存，重启规则")]),t._v(" "),e("p",[t._v("/sbin/iptables -I INPUT -p tcp --dport 3306 -j ACCEPT")]),t._v(" "),e("p",[t._v("保存：/etc/rc.d/init.d/iptables save\n重启：service iptables restart")]),t._v(" "),e("p",[t._v("也可以直接编辑配置文件："),e("code",[t._v("/etc/sysconfig/iptables")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://blog-07.oss-cn-guangzhou.aliyuncs.com/picBak/1552464232916.png",alt:"1552464232916.png"}})]),t._v(" "),e("blockquote",[e("p",[t._v("添加防火墙规则reject一定在accept后面，否则后面的accept不生效")])]),t._v(" "),e("h3",{attrs:{id:"测试端口"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#测试端口"}},[t._v("#")]),t._v(" 测试端口")]),t._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("telnet "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".1.158 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("8080")]),t._v("\n")])])])])}),[],!1,null,null,null);e.default=r.exports}}]);