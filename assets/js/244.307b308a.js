(window.webpackJsonp=window.webpackJsonp||[]).push([[244],{638:function(s,a,t){"use strict";t.r(a);var e=t(20),_=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"查询mysql-相关mode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查询mysql-相关mode"}},[s._v("#")]),s._v(" 查询mysql 相关mode")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" @"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@global.sql_mode")]),s._v("\n")])])]),a("p",[s._v("在 mysql 版本为 5.7+ 默认的模式为")]),s._v(" "),a("blockquote",[a("p",[s._v("ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION")])]),s._v(" "),a("p",[s._v("其中 ONLY_FULL_GROUP_BY 意味着使用 group by 语句 select 部分不能使用聚合函数，如 max，min 等，否则报错")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Expression")]),s._v(" #"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" of "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SELECT")]),s._v(" list is not in "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("GROUP")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("BY")]),s._v(" clause and contains nonaggregated colum\n")])])]),a("h6",{attrs:{id:"解决方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解决方案"}},[s._v("#")]),s._v(" 解决方案：")]),s._v(" "),a("p",[s._v("修改 mysql 配置 my.conf ，增加配置")]),s._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("sql_mode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION")]),s._v("\n")])])]),a("p",[s._v("去掉默认的 ONLY_FULL_GROUP_BY 配置。重启服务即可！")])])}),[],!1,null,null,null);a.default=_.exports}}]);