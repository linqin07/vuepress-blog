(window.webpackJsonp=window.webpackJsonp||[]).push([[240],{634:function(n,e,s){"use strict";s.r(e);var r=s(20),a=Object(r.a)({},(function(){var n=this,e=n._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[e("p",[n._v("使用情景：")]),n._v(" "),e("p",[n._v("那些没有事先考虑，而已经出现了的，数据查询慢的情况。这个时候如果要把已有的大数据量表分开。sql语句不需要重写。逻辑分表。")]),n._v(" "),e("p",[e("a",{attrs:{href:"https://mp.weixin.qq.com/s?__biz=MzI4Njc5NjM1NQ==&mid=2247484590&idx=1&sn=bd2318df0dfe8c5e00ffc8c81f45a97c&chksm=ebd63b82dca1b294e1eccd3b2c9c3b3cdf8ff5f1a6b16c98282c99d8e69dd0d30212cdd37fad&mpshare=1&scene=1&srcid=0410FldVqd0e5wBInQYLDs2O#rd",target:"_blank",rel:"noopener noreferrer"}},[n._v("微信文章"),e("OutboundLink")],1)]),n._v(" "),e("p",[n._v("mysql>show engines;")]),n._v(" "),e("p",[n._v("的时候你会发现 mrg_myisam 其实就是merge")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("mysql> CREATE TABLE IF NOT EXISTS `user1` (  \n->   `id` int(11) NOT NULL AUTO_INCREMENT,  \n->   `name` varchar(50) DEFAULT NULL,  \n->   `sex` int(1) NOT NULL DEFAULT '0',  \n->   PRIMARY KEY (`id`)  \n-> ) ENGINE=MyISAM  DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;  \nQuery OK, 0 rows affected (0.05 sec)  \n \nmysql> CREATE TABLE IF NOT EXISTS `user2` (  \n->   `id` int(11) NOT NULL AUTO_INCREMENT,  \n->   `name` varchar(50) DEFAULT NULL,  \n->   `sex` int(1) NOT NULL DEFAULT '0',  \n->   PRIMARY KEY (`id`)  \n-> ) ENGINE=MyISAM  DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;  \nQuery OK, 0 rows affected (0.01 sec)  \n \nmysql> INSERT INTO `user1` (`name`, `sex`) VALUES('张映', 0);  \nQuery OK, 1 row affected (0.00 sec)  \n \nmysql> INSERT INTO `user2` (`name`, `sex`) VALUES('tank', 1);  \nQuery OK, 1 row affected (0.00 sec)  \n \nmysql> CREATE TABLE IF NOT EXISTS `alluser` (  \n->   `id` int(11) NOT NULL AUTO_INCREMENT,  \n->   `name` varchar(50) DEFAULT NULL,  \n->   `sex` int(1) NOT NULL DEFAULT '0',  \n->   INDEX(id)  \n-> ) TYPE=MERGE UNION=(user1,user2) INSERT_METHOD=LAST AUTO_INCREMENT=1 ;  \nQuery OK, 0 rows affected, 1 warning (0.00 sec)  \n \nmysql> select id,name,sex from alluser;  \n+----+--------+-----+  \n| id | name   | sex |  \n+----+--------+-----+  \n|  1 | 张映 |   0 |  \n|  1 | tank   |   1 |  \n+----+--------+-----+  \n2 rows in set (0.00 sec)  \n \nmysql> INSERT INTO `alluser` (`name`, `sex`) VALUES('tank2', 0);  \nQuery OK, 1 row affected (0.00 sec)  \n \nmysql> select id,name,sex from user2  \n-> ;  \n+----+-------+-----+  \n| id | name  | sex |  \n+----+-------+-----+  \n|  1 | tank  |   1 |  \n|  2 | tank2 |   0 |  \n+----+-------+-----+  \n2 rows in set (0.00 sec)\n")])])])])}),[],!1,null,null,null);e.default=a.exports}}]);