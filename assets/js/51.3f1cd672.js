(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{275:function(s,t,a){"use strict";a.r(t);var n=a(2),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h3",{attrs:{id:"外网安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#外网安装","aria-hidden":"true"}},[s._v("#")]),s._v(" 外网安装")]),s._v(" "),a("p",[a("strong",[s._v("1.Jenkins下载")])]),s._v(" "),a("p",[s._v("下载地址：http://mirrors.jenkins.io/war-stable/latest/jenkins.war")]),s._v(" "),a("p",[s._v("​      外网Linux机器上执行以下命令进行下载：")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("　　"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -L -O http://mirrors.jenkins.io/war-stable/latest/jenkins.war\n")])])]),a("p",[s._v("或者本机下载后上传至Linux机器。")]),s._v(" "),a("p",[s._v("命令启动")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("java -jar jenkins.war --httpPort"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8899")]),s._v("\n")])])]),a("p",[s._v("用户数据都在"),a("code",[s._v("/root/.jenkins")]),s._v("文件夹中，包含所有插件、用户配置数据，内网安装可以把外网这个文件夹 copy 到对应机器即可。")]),s._v(" "),a("h5",{attrs:{id:"_2-修改源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-修改源","aria-hidden":"true"}},[s._v("#")]),s._v(" 2.修改源")]),s._v(" "),a("p",[s._v("到目录"),a("code",[s._v("/root/.jenkins/updates")]),s._v("下执行替换字符命令修改源")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/http:\\/\\/updates.jenkins-ci.org\\/download/https:\\/\\/mirrors.tuna.tsinghua.edu.cn\\/jenkins/g'")]),s._v(" default.json "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/http:\\/\\/www.google.com/https:\\/\\/www.baidu.com/g'")]),s._v(" default.json\n")])])]),a("h5",{attrs:{id:"_3-修改jenkins修改默认工作空间路径workspace"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-修改jenkins修改默认工作空间路径workspace","aria-hidden":"true"}},[s._v("#")]),s._v(" 3.修改Jenkins修改默认工作空间路径workspace")]),s._v(" "),a("p",[s._v("对应是"),a("code",[s._v("/root/.jenkins/config.xml")]),s._v("修改里面的 workspaceDir 为具体路径即可，修改完成重启")]),s._v(" "),a("h5",{attrs:{id:"_4-离线安装插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-离线安装插件","aria-hidden":"true"}},[s._v("#")]),s._v(" 4.离线安装插件")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://plugins.jenkins.io/",target:"_blank",rel:"noopener noreferrer"}},[s._v("点击搜索下载插件"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("img",{attrs:{src:"https://blog-07.oss-cn-guangzhou.aliyuncs.com/picBak/1604631866505.png",alt:"1604631866505.png"}})]),s._v(" "),a("p",[s._v("导入，最后安装完成的插件会在 "),a("code",[s._v("~.jenkins/plugins")]),s._v(" 里面，离线安装可以复制这个新增的文件到内网即可。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://blog-07.oss-cn-guangzhou.aliyuncs.com/picBak/1604631978975.png",alt:"1604631978975.png"}})])])}),[],!1,null,null,null);t.default=e.exports}}]);