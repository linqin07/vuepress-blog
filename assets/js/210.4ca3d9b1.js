(window.webpackJsonp=window.webpackJsonp||[]).push([[210],{432:function(t,s,a){"use strict";a.r(s);var e=a(2),r=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h3",{attrs:{id:"oracle-中级试题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#oracle-中级试题","aria-hidden":"true"}},[t._v("#")]),t._v(" Oracle 中级试题")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("Oracle数据库的最基础的存储单位是"),a("code",[t._v("segment")])])]),t._v(" "),a("li",[a("p",[t._v("从物理结构上讲，Oracle数据库包含数据文件、控制文件、"),a("code",[t._v("redo log file")]),t._v("、口令文件和参数文件")])]),t._v(" "),a("li",[a("p",[t._v("awrrpt.sql 是创建AWR报告的脚本")])]),t._v(" "),a("li",[a("p",[t._v("impdp 是数据库用来做数据导入的工具")])]),t._v(" "),a("li",[a("p",[t._v("数据库后台核心进程")]),t._v(" "),a("blockquote",[a("ul",[a("li",[t._v("smon 数据块管理，实例恢复")]),t._v(" "),a("li",[t._v("pmon 进程异常终止，比如用户进程出错，这个进程清理它")]),t._v(" "),a("li",[t._v("DBWn data blocks write 数据块写")]),t._v(" "),a("li",[t._v("CheckPoint 检查点进程")]),t._v(" "),a("li",[t._v("LGWR 进程负责将log buffer->online redo file,顺序写")])])])]),t._v(" "),a("li",[a("p",[t._v("Oracle启动过程分3步")]),t._v(" "),a("blockquote",[a("p",[t._v("1.Oracle启动模式的nomount阶段")]),t._v(" "),a("p",[t._v("2.Oracle启动模式的mount阶段")]),t._v(" "),a("p",[t._v("3.Oracle启动模式的open阶段")])])]),t._v(" "),a("li",[a("p",[t._v("事务的"),a("code",[t._v("一致性")]),t._v("是指事务必须是数据库从一个一致性状态变到另一个一致性状态")])]),t._v(" "),a("li",[a("p",[t._v("事务的"),a("code",[t._v("持久性")]),t._v("是指事务一旦提交，对数据库的修改就是永远的")])]),t._v(" "),a("li",[a("p",[t._v("事务的"),a("code",[t._v("隔离性")]),t._v("保证多事务直接互不干扰")])]),t._v(" "),a("li",[a("p",[t._v("事务是"),a("code",[t._v("原子性")]),t._v("的")])]),t._v(" "),a("li",[a("p",[t._v("数据库逻辑结构单元")]),t._v(" "),a("blockquote",[a("p",[t._v("DataBase 数据库")]),t._v(" "),a("p",[t._v("TableSpace 表空间")]),t._v(" "),a("p",[t._v("Segment 段：一个表就是一个段")]),t._v(" "),a("p",[t._v("Extent 区：区是磁盘空间分配的最小单位；oracle到这。")]),t._v(" "),a("p",[t._v("Data Block 数据块")])])]),t._v(" "),a("li",[a("p",[t._v("ceil() 往上取整")])]),t._v(" "),a("li",[a("p",[t._v("floor() 往下取整")])]),t._v(" "),a("li",[a("p",[t._v("round() 四舍五入")])]),t._v(" "),a("li",[a("p",[t._v("trunc() 截断")])]),t._v(" "),a("li",[a("p",[t._v("分页")]),t._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*****普通的查询(30数据)****/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" ENVIRONMENT_APPLY_AUDIT"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*******查询带行号的数据**/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" ROWNUM ru"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("AAA"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" ENVIRONMENT_APPLY_AUDIT   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" AAA"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*******查询第一页   每页5条数据***/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" AAA"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ROWNUM ru "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" ENVIRONMENT_APPLY_AUDIT "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" AAA "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" ROWNUM"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" ROWNUM ru"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("AAA"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" ENVIRONMENT_APPLY_AUDIT "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" AAA "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" ROWNUM"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" ru"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**********查询第二页数据********************/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" ROWNUM ru"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("AAA"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" ENVIRONMENT_APPLY_AUDIT "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" AAA "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" ROWNUM"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" ru"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**********查询第三页数据********************/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" ROWNUM ru"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("AAA"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" ENVIRONMENT_APPLY_AUDIT "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" AAA "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" ROWNUM"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" ru"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])]),t._v(" "),a("p",[t._v("为什么基于ROWNUM的oracle分页实现，要采用三层嵌套的方式？")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("首先，在没有order by clause的情况下，oracle的查询结果的顺序会是不确定的")])]),t._v(" "),a("li",[a("p",[t._v("其次，在order by 和 ROWNUM同时使用时，oracle默认的策略是先为伪列rownum赋值，再order by。")])]),t._v(" "),a("li",[a("p",[t._v("再次，因为rownum不可使用 >(=) 来判断的原因，所以需要最外围的第三层嵌套")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);