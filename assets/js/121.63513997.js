(window.webpackJsonp=window.webpackJsonp||[]).push([[121],{345:function(e,t,a){"use strict";a.r(t);var s=a(2),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h3",{attrs:{id:"防火墙centos7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#防火墙centos7","aria-hidden":"true"}},[e._v("#")]),e._v(" 防火墙centos7")]),e._v(" "),a("h6",{attrs:{id:"起停"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#起停","aria-hidden":"true"}},[e._v("#")]),e._v(" 起停")]),e._v(" "),a("p",[e._v("开启\nsystemctl start firewalld.service")]),e._v(" "),a("p",[e._v("关闭\nsystemctl stop firewalld.service")]),e._v(" "),a("p",[e._v("开机启动\nsystemctl enable firewalld.service")]),e._v(" "),a("p",[e._v("关闭开机启动\nsystemctl disable firewalld.service")]),e._v(" "),a("p",[e._v("查看状态\nsystemctl status firewalld 或者 firewall-cmd --state")]),e._v(" "),a("h6",{attrs:{id:"释放端口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#释放端口","aria-hidden":"true"}},[e._v("#")]),e._v(" 释放端口")]),e._v(" "),a("p",[e._v("firewall-cmd --permanent --zone=public --add-port=8080-8088/tcp")]),e._v(" "),a("p",[e._v("重新加载配置\nfirewall-cmd --reload")]),e._v(" "),a("p",[e._v("直接修改文件的方式（用户个人的），系统的在 /usr/lib/firewalld/zone/public.xml 目录下")]),e._v(" "),a("p",[e._v("cat  /etc/firewalld/zones/public.xml")]),e._v(" "),a("p",[e._v("删除端口\nfirewall-cmd --permanent --zone=public --remove-port=3306/tcp")]),e._v(" "),a("p",[e._v("查看已开放端口\nfirewall-cmd --permanent --zone=public --list-ports")]),e._v(" "),a("p",[e._v("查看服务\nfirewall-cmd --permanent --zone=public --list-services")]),e._v(" "),a("p",[e._v("在 xshell 使用命令可以打开终端配置 firewall-config")]),e._v(" "),a("h3",{attrs:{id:"contos6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#contos6","aria-hidden":"true"}},[e._v("#")]),e._v(" contos6")]),e._v(" "),a("h6",{attrs:{id:"查现有规则-line-number："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查现有规则-line-number：","aria-hidden":"true"}},[e._v("#")]),e._v(" 查现有规则--line-number：")]),e._v(" "),a("p",[a("code",[e._v("iptables -L -n")]),e._v("  或者  "),a("code",[e._v("/etc/init.d/iptables status")]),e._v(" 或者"),a("code",[e._v("service iptables status")])]),e._v(" "),a("p",[a("img",{attrs:{src:"https://blog-07.oss-cn-guangzhou.aliyuncs.com/picBak/1552464080369.png",alt:"1552464080369.png"}})]),e._v(" "),a("h6",{attrs:{id:"删除防火墙："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除防火墙：","aria-hidden":"true"}},[e._v("#")]),e._v(" 删除防火墙：")]),e._v(" "),a("p",[a("code",[e._v("iptables -D INPUT 2")]),e._v(" 删除对应的规则，不要乱删除")]),e._v(" "),a("p",[a("code",[e._v("iptables -F")]),e._v(" 清空所有规则")]),e._v(" "),a("h6",{attrs:{id:"添加规则，保存，重启规则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加规则，保存，重启规则","aria-hidden":"true"}},[e._v("#")]),e._v(" 添加规则，保存，重启规则")]),e._v(" "),a("p",[e._v("/sbin/iptables -I INPUT -p tcp --dport 3306 -j ACCEPT")]),e._v(" "),a("p",[e._v("保存：/etc/rc.d/init.d/iptables save\n重启：service iptables restart")]),e._v(" "),a("p",[e._v("也可以直接编辑配置文件："),a("code",[e._v("/etc/sysconfig/iptables")])]),e._v(" "),a("p",[a("img",{attrs:{src:"https://blog-07.oss-cn-guangzhou.aliyuncs.com/picBak/1552464232916.png",alt:"1552464232916.png"}})]),e._v(" "),a("blockquote",[a("p",[e._v("添加防火墙规则reject一定在accept后面，否则后面的accept不生效")])]),e._v(" "),a("h3",{attrs:{id:"测试端口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#测试端口","aria-hidden":"true"}},[e._v("#")]),e._v(" 测试端口")]),e._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[e._v("telnet "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("192.168")]),e._v(".1.158 "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("8080")]),e._v("\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);