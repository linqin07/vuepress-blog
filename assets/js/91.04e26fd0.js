(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{486:function(s,t,a){"use strict";a.r(t);var e=a(20),r=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"安装vsftp服务器端"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装vsftp服务器端"}},[s._v("#")]),s._v(" 安装vsftp服务器端")]),s._v(" "),t("h3",{attrs:{id:"_1-查看是否以及安装-vsftpd-服务-rpm-qa-grep-vsftpd"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-查看是否以及安装-vsftpd-服务-rpm-qa-grep-vsftpd"}},[s._v("#")]),s._v(" 1. 查看是否以及安装 vsftpd 服务： "),t("code",[s._v("rpm -qa |grep vsftpd")])]),s._v(" "),t("h3",{attrs:{id:"_2-安装-yum-y-install-vsftpd"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装-yum-y-install-vsftpd"}},[s._v("#")]),s._v(" 2. 安装 yum -y install vsftpd")]),s._v(" "),t("p",[s._v("安装完成后会自动创建一个ftp的用户，配置文件在 /etc/vsftpd 下面主要是 vsftpd.conf")]),s._v(" "),t("p",[s._v("不同登陆的用户，把数据存放到相应的家目录里面。")]),s._v(" "),t("h3",{attrs:{id:"_3-配置用户账号登陆-ftp"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-配置用户账号登陆-ftp"}},[s._v("#")]),s._v(" 3. 配置用户账号登陆 ftp")]),s._v(" "),t("ul",[t("li",[s._v("创建存储目录 mkdir /data/ftp/auth -p")]),s._v(" "),t("li",[s._v("查看 ftp 用户信息 cat /etc/passwd "),t("code",[s._v("ftp:x:14:50:FTP User:/var/ftp:/sbin/nologin")])]),s._v(" "),t("li",[s._v("修改用户登陆权限 "),t("code",[s._v("chsh ftp -s /bin/bash")])]),s._v(" "),t("li",[s._v("修改 ftp 用户 home 目录 "),t("code",[s._v("usermod -d /data/ftp/auth/ftp ftp")]),s._v("，其中 最后一级别文件夹 ftp 要手动创建一下同时设置权限 "),t("code",[s._v("chmod 755 ftp/")]),s._v("，"),t("code",[s._v("chown ftp:ftp ftp/")])]),s._v(" "),t("li",[s._v("设置 ftp 用户密码 "),t("code",[s._v("passwd ftp")])])]),s._v(" "),t("h3",{attrs:{id:"_4-配置-vsftpd-conf"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-配置-vsftpd-conf"}},[s._v("#")]),s._v(" 4. 配置 vsftpd.conf")]),s._v(" "),t("p",[s._v("具体配置")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#允许匿名访问")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("anonymous_enable")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("NO\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#匿名访问的本地实际目录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("anon_root")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /data/ftp/auth\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("local_enable")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("YES\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#允许匿名用户上传文件(须将全局的write_enable=YES,默认YES)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("anon_upload_enable")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("YES\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#允许匿名用户创建目录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("anon_mkdir_write_enable")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("YES\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#上传或下载时的速率（0代表不限速，单位bytes/s）")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("anon_max_rate")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("write_enable")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("YES\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("local_umask")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("022\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("dirmessage_enable")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("YES\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("xferlog_enable")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("YES\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("connect_from_port_20")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("YES\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("xferlog_std_format")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("YES\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("listen")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("NO\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("listen_ipv6")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("YES\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("pam_service_name")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("vsftpd\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("userlist_enable")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("YES\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("tcp_wrappers")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("YES\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 目录也慢，一切操作很慢")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("reverse_lookup_enable")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("NO\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#无操作时的超时时间")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("idle_session_timeout")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("600")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#文件传输超时时间秒")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("data_connection_timeout")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3600")]),s._v("\n")])])]),t("h3",{attrs:{id:"_5-启动或者重启服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-启动或者重启服务"}},[s._v("#")]),s._v(" 5.  启动或者重启服务")]),s._v(" "),t("p",[s._v("systemctl restart vsftpd")]),s._v(" "),t("h3",{attrs:{id:"_6-页面查看"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-页面查看"}},[s._v("#")]),s._v(" 6. 页面查看")]),s._v(" "),t("img",{staticStyle:{zoom:"67%"},attrs:{src:"https://gitee.com/linqin07/pic/raw/master/image-20210519184602560.png",alt:"image-20210519184602560.png"}}),s._v("\nd\n"),t("h3",{attrs:{id:"_7-常用-ftp-命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-常用-ftp-命令"}},[s._v("#")]),s._v(" 7.常用 ftp 命令")]),s._v(" "),t("p",[s._v("登录  ftp 127.0.0.1")]),s._v(" "),t("p",[s._v("输入帐号密码")]),s._v(" "),t("p",[s._v("cd 目录，ls 查看，get 单个文件（注意要先执行一次 "),t("code",[s._v("bin")]),s._v(" 命令，声明用二进制传输）")])])}),[],!1,null,null,null);t.default=r.exports}}]);