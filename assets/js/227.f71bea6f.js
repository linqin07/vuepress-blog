(window.webpackJsonp=window.webpackJsonp||[]).push([[227],{452:function(t,e,n){"use strict";n.r(e);var a=n(2),i=Object(a.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h3",{attrs:{id:"mysql中myisam与innodb的区别"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mysql中myisam与innodb的区别","aria-hidden":"true"}},[t._v("#")]),t._v(" mysql中myisam与innodb的区别")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("myisam")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("innodb")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"center"}},[n("code",[t._v("事务支持")])]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("不支持：查询更快，每次查询具有原子性")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("支持事务，回滚")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("锁粒度")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("表级锁")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[n("code",[t._v("行级锁")])])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("外键")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("MyISAM不支持")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("InnoDB支持"),n("code",[t._v("外键")])])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("表主键")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("允许没有任何索引和主键的表存在，索引都是保存行的地址")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("如果没有设定主键或者非空唯一索引，就会自动生成一个6字节的主键(用户不可见)")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[n("code",[t._v("全文索引")])]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("MyISAM支持")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("InnoDB不支持全文索引")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("可移植性、备份及"),n("code",[t._v("恢复")])]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("数据是以文件的形式存储，所以在跨平台的数据转移中会很方便。在备份和恢复时可单独针对某个表进行操作")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("免费的方案可以是拷贝数据文件、备份 binlog或者用mysqldump，在数据量达到几十G的时候就相对痛苦了")])])])]),t._v(" "),n("h3",{attrs:{id:"mysql-表锁和行锁机制"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mysql-表锁和行锁机制","aria-hidden":"true"}},[t._v("#")]),t._v(" MySQL 表锁和行锁机制")]),t._v(" "),n("ol",[n("li",[t._v("InnoDB 支持表锁和行锁，使用索引作为检索条件修改数据时采用行锁，否则采用表锁。")]),t._v(" "),n("li",[t._v("InnoDB 自动给"),n("code",[t._v("修改")]),t._v("操作加锁，给查询操作不自动加锁")]),t._v(" "),n("li",[t._v("行锁可能因为未使用索引而升级为表锁，所以除了检查索引是否创建的同时，也需要通过 explain 执行计划查询索引是否被实际使用。")]),t._v(" "),n("li",[t._v("行锁相对于表锁来说，优势在于高并发场景下表现更突出，毕竟锁的粒度小。")]),t._v(" "),n("li",[t._v("当表的大部分数据需要被修改，或者是多表复杂关联查询时，建议使用表锁优于行锁。")]),t._v(" "),n("li",[t._v("为了保证数据的一致完整性，任何一个数据库都存在锁定机制。锁定机制的优劣直接影响到一个数据库的并发处理能力和性能。")]),t._v(" "),n("li",[n("strong",[t._v("InnoDB的行锁是针对索引加的锁，不是针对记录加的锁。并且该索引不能失效，否则都会从行锁升级为表锁")])])])])}),[],!1,null,null,null);e.default=i.exports}}]);